üöÄ Cloudflare Workers Deployment Test
======================================
Please enter your API key (press Enter to skip for health check only):

Testing with Worker URL: https://notification-listener-backend.endri-susanto.workers.dev
======================================
[1;33m‚ÑπÔ∏è  Testing GET /health[0m
[0;32m‚úÖ Status: 200 (Expected: 200)[0m
Response: {"status":"OK","timestamp":"2026-01-27T04:28:57.613Z","platform":"Cloudflare Workers"}
----------------------------------------
[1;33m‚ÑπÔ∏è  Testing POST /webhook[0m
[0;32m‚úÖ Status: 200 (Expected: 200)[0m
Response: {"success":true,"message":"Notification received successfully","id":1,"timestamp":"2026-01-27T04:28:58.235Z"}
----------------------------------------
[1;33m‚ÑπÔ∏è  Testing POST /test[0m
[0;32m‚úÖ Status: 200 (Expected: 200)[0m
Response: {"success":true,"message":"Test notification received successfully","timestamp":"2026-01-27T04:28:58.638Z","data":{"deviceId":"test-device-123","packageName":"com.example.test","appName":"Test App","title":"Test Notification","text":"This is a test notification","amountDetected":"50000"}}
----------------------------------------
[1;33m‚ÑπÔ∏è  Testing GET /notifications[0m
[0;32m‚úÖ Status: 200 (Expected: 200)[0m
Response: {"success":true,"data":[{"id":1,"device_id":"test-device-123","package_name":"com.example.test","app_name":"Test App","posted_at":null,"title":"Test Notification","text":"This is a test notification","sub_text":null,"big_text":null,"channel_id":null,"notification_id":null,"amount_detected":"50000","extras":null,"created_at":"2026-01-27 04:28:58"}],"count":1}
----------------------------------------
[1;33m‚ÑπÔ∏è  Testing GET /devices[0m
[0;32m‚úÖ Status: 200 (Expected: 200)[0m
Response: {"success":true,"data":[{"id":1,"device_id":"test-device-123","last_seen":"2026-01-27T04:28:58.235Z","total_notifications":1,"created_at":"2026-01-27 04:28:58"}],"count":1}
----------------------------------------
[1;33m‚ÑπÔ∏è  Testing GET /stats[0m
